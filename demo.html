<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DreamWeb - Profesyonel Ã–nizleme</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
    <link rel="stylesheet" href="style.css">
</head>
<body>
    
    <div class="background-overlay"></div>

    <div class="container" id="mainCard">
        <div class="card" data-aos="zoom-in" data-aos-duration="1200">
            <div class="content">
                <div id="iconWrapper" class="ring-animation" data-aos="fade-down" data-aos-delay="400">
                    </div>
                
                <h1 class="title" id="mainTitle" data-aos="fade-up" data-aos-delay="600">YÃ¼kleniyor...</h1>
                <p class="subtitle" id="mainSubtitle" data-aos="fade-up" data-aos-delay="800">LÃ¼tfen bekleyin...</p>
            </div>
            
            <div class="buttons" id="btnGroup" data-aos="fade-up" data-aos-delay="1000">
                <button class="btnYes" id="yesButton">EVET</button>
                <button class="btnNo" id="noButton">HAYIR</button>
            </div>
        </div>
    </div> 

    <div class="gallery-container" id="galleryLayer" style="display: none;">
        <div class="box">
            <div class="dream" id="photoGallery">
                </div>
        </div>
    </div>
    
    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
    <script>
        AOS.init({ duration: 1000, once: true });

        // SAYFA YÃœKLENÄ°R YÃœKLENMEZ Ã‡ALIÅTIR (HÄ±z iÃ§in)
        (function() {
            const urlParams = new URLSearchParams(window.location.search);
            const type = urlParams.get('type') || 'love'; 
            const isBirthday = (type === 'birthday');

            // --- AYARLAR ---
            const config = {
                title: isBirthday ? "Ä°yi Ki DoÄŸdun Prenses!" : "Benimle Evlenir Misin?",
                subtitle: isBirthday ? "Yeni yaÅŸÄ±n sana huzur ve mutluluk getirsin..." : "Ã–mrÃ¼mÃ¼n geri kalanÄ± olur musun?",
                yesMsg: isBirthday ? "Ä°yi Ki VarsÄ±n Sevgilim! ğŸ‰" : "Sonsuza kadar EVET! â¤ï¸",
                btnYesText: isBirthday ? "KUTLA ğŸ‰" : "EVET ğŸ’",
                btnNoText: isBirthday ? "HAYIR ğŸ‚" : "HAYIR ğŸ’”",
                emoji: isBirthday ? 'ğŸ‰' : 'â¤ï¸',
                iconHtml: isBirthday ? 
                    `<div class="cake-wrapper">
                        <div class="flame"></div>
                        <img src="https://cdn-icons-png.flaticon.com/512/3132/3132715.png" class="cake-img">
                    </div>` : 
                    `<img src="https://pngimg.com/uploads/ring/ring_PNG26.png" class="ring-img">`
            };

            // DOM'un hazÄ±r olmasÄ±nÄ± bekle ama verileri hÄ±zlÄ±ca hazÄ±rla
            window.addEventListener('DOMContentLoaded', () => {
                const mainTitle = document.getElementById('mainTitle');
                const mainSubtitle = document.getElementById('mainSubtitle');
                const iconWrapper = document.getElementById('iconWrapper');
                const yesButton = document.getElementById('yesButton');
                const noButton = document.getElementById('noButton');
                const photoGallery = document.getElementById('photoGallery');
                const card = document.querySelector('.card');

                // Ä°Ã§eriÄŸi Giydir
                mainTitle.innerText = config.title;
                mainSubtitle.innerText = config.subtitle;
                iconWrapper.innerHTML = config.iconHtml;
                yesButton.innerHTML = config.btnYesText;
                noButton.innerHTML = config.btnNoText;

                // Galeriyi OluÅŸtur (View'daki o meÅŸhur span yapÄ±sÄ±)
                for (let i = 1; i <= 8; i++) {
                    const span = document.createElement('span');
                    span.style.setProperty('--i', i);
                    const img = document.createElement('img');
                    img.src = `https://picsum.photos/400/600?random=${i + (isBirthday ? 20 : 80)}`;
                    span.appendChild(img);
                    photoGallery.appendChild(span);
                }

                // --- HAYIR BUTONU KAÃ‡IRMA (VÄ°EW.HTML MANTIÄI) ---
                let escapeCount = 0;
                function moveButton() {
                    escapeCount++;
                    if (escapeCount >= 5) {
                        noButton.style.display = 'none';
                        mainTitle.innerText = isBirthday ? "PastayÄ± Ã¼fle artÄ±k! ğŸ‚" : "Naz yapma prenses! ğŸ˜‰";
                        return;
                    }
                    const rect = card.getBoundingClientRect();
                    const x = Math.max(10, Math.random() * (rect.width - 120));
                    const y = Math.max(10, Math.random() * (rect.height - 50));
                    noButton.style.position = 'absolute';
                    noButton.style.left = x + 'px';
                    noButton.style.top = y + 'px';
                }

                noButton.addEventListener('mouseover', moveButton);
                noButton.addEventListener('touchstart', (e) => { e.preventDefault(); moveButton(); });

                // --- EVET BUTONU ---
                yesButton.addEventListener('click', () => {
                    mainTitle.innerText = config.yesMsg;
                    mainSubtitle.textContent = 'Seninle bir Ã¶mÃ¼r boyu, el ele...';
                    document.getElementById('btnGroup').style.display = 'none';
                    
                    startConfetti(config.emoji);

                    setTimeout(() => {
                        document.getElementById('mainCard').style.opacity = "0";
                        const galleryCont = document.getElementById('galleryLayer');
                        galleryCont.style.display = 'flex'; 
                        setTimeout(() => { 
                            galleryCont.style.opacity = "1"; 
                            document.getElementById('mainCard').style.display = "none"; 
                        }, 500);
                    }, 3000);
                });

                function startConfetti(char) { 
                    for(let i=0; i<60; i++) {
                        setTimeout(() => { 
                            const h = document.createElement('div'); 
                            h.className='heart'; 
                            h.innerHTML= Math.random() > 0.5 ? char : 'âœ¨'; 
                            h.style.left = Math.random() * 100 + 'vw';
                            const duration = Math.random() * 3 + 2; 
                            h.style.animationDuration = duration + 's';
                            document.body.appendChild(h); 
                            setTimeout(() => h.remove(), duration * 1000);
                        }, i * 100); 
                    } 
                }
            });
        })();
    </script>
</body>
</html>